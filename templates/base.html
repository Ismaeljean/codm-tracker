<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}CODM Tracker - Statistiques & Classements Call of Duty Mobile{% endblock %}</title>
    <meta name="description"
        content="Suivez vos statistiques, améliorez votre gameplay et rejoignez des tournois sur CODM Tracker - La plateforme ultime pour les joueurs Call of Duty Mobile.">
    {% load static %}

    <!-- Bootstrap EN PREMIER -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- TON CSS EN DERNIER (IMPORTANT) -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    {% block extra_css %}{% endblock %}
</head>

<body>
    <header class="header" id="header">
        <div class="container">
            <nav class="nav">
                <a href="/" class="logo">
                    <div class="logo-icon">CT</div>
                    <div class="logo-text">CODM<span>Tracker</span></div>
                </a>

                <ul class="nav-menu" id="navMenu">
                    <li><a href="{% url 'tournois:tournaments' %}"
                            class="nav-link {% block nav_tournois %}{% endblock %}">Tournois</a></li>
                    <li><a href="{% url 'articles:blog' %}" class="nav-link {% block nav_blog %}{% endblock %}">Blog</a>
                    </li>
                    <li><a href="{% url 'boutique:index' %}"
                            class="nav-link {% block nav_boutique %}{% endblock %}">Boutique</a></li>
                    <li><a href="{% url 'statistiques:classements' %}"
                            class="nav-link {% block nav_classements %}{% endblock %}">Classements</a></li>
                    <li><a href="{% url 'forum:index' %}" class="nav-link {% block nav_forum %}{% endblock %}">Forum</a>
                    </li>
                    <li><a href="{% url 'a_propos' %}" class="nav-link {% block nav_apropos %}{% endblock %}">À
                            propos</a></li>
                </ul>

                <div class="nav-buttons">
                    {% if user.is_authenticated %}
                    <a href="{% url 'forum:notifications' %}" class="btn btn-outline btn-sm"
                        style="position: relative;">
                        <i class="fas fa-bell"></i>
                        {% if notifications_count > 0 %}
                        <span
                            style="position: absolute; top: -5px; right: -5px; background: var(--primary-red); color: white; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: bold;">{{
                            notifications_count }}</span>
                        {% endif %}
                    </a>
                    <a href="{% url 'profils:profil' %}" class="btn btn-secondary btn-sm">Mon Profil</a>
                    <a href="{% url 'utilisateurs:logout' %}" class="btn btn-primary btn-sm">Déconnexion</a>
                    {% else %}
                    <a href="{% url 'utilisateurs:login' %}" class="btn btn-secondary btn-sm">Connexion</a>
                    <a href="{% url 'utilisateurs:signup' %}" class="btn btn-primary btn-sm">Inscription</a>
                    {% endif %}
                </div>

                <button class="menu-toggle" id="menuToggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </nav>
        </div>
    </header>

    {% if messages %}
    <div class="messages-container"
        style="position: fixed; top: 80px; left: 50%; transform: translateX(-50%); z-index: 1000; width: 90%; max-width: 600px;">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}"
            style="padding: 15px 20px; margin-bottom: 10px; border-radius: 8px; background: {% if message.tags == 'error' %}var(--primary-red){% elif message.tags == 'success' %}#28a745{% else %}#17a2b8{% endif %}; color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <div class="logo-icon">CT</div>
                        <div class="logo-text">CODM<span>Tracker</span></div>
                    </div>
                    <p class="footer-desc">La plateforme ultime pour les joueurs Call of Duty Mobile. Suivez vos stats,
                        améliorez votre gameplay et rejoignez la communauté.</p>
                    <div class="footer-social">
                        <a href="#" class="social-link"><i class="fab fa-discord"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>

                <div>
                    <h4 class="footer-heading">Navigation</h4>
                    <ul class="footer-links">
                        <li><a href="/">Accueil</a></li>
                        <li><a href="{% url 'tournois:tournaments' %}">Tournois</a></li>
                        <li><a href="{% url 'articles:blog' %}">Blog</a></li>
                        <li><a href="#">Boutique</a></li>
                        <li><a href="{% url 'statistiques:classements' %}">Classements</a></li>
                        <li><a href="{% url 'forum:index' %}">Forum</a></li>
                        <li><a href="{% url 'a_propos' %}">À propos</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="footer-heading">Compte</h4>
                    <ul class="footer-links">
                        {% if user.is_authenticated %}
                        <li><a href="{% url 'utilisateurs:logout' %}">Déconnexion</a></li>
                        <li><a href="{% url 'profils:profil' %}">Mon Profil</a></li>
                        {% else %}
                        <li><a href="{% url 'utilisateurs:login' %}">Connexion</a></li>
                        <li><a href="{% url 'utilisateurs:signup' %}">Inscription</a></li>
                        {% endif %}
                    </ul>
                </div>

                <div>
                    <h4 class="footer-heading">Support</h4>
                    <ul class="footer-links">
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Signaler un Bug</a></li>
                        <li><a href="#">Suggestions</a></li>
                    </ul>
                </div>
            </div>

            <div class="disclaimer">
                <div class="disclaimer-title"><i class="fas fa-exclamation-triangle"></i> Avertissement</div>
                <p class="disclaimer-text">Ce site n'est PAS affilié, associé, autorisé, approuvé ou officiellement lié
                    à Activision Publishing, Inc., TiMi Studio Group, ou Call of Duty. Tous les noms de produits, logos
                    et marques sont la propriété de leurs détenteurs respectifs. Ce site est un projet communautaire
                    indépendant créé par des fans pour des fans.</p>
            </div>

            <div class="footer-bottom">
                <p class="footer-copyright">© 2024 CODM Tracker. Tous droits réservés.</p>
                <div class="footer-legal">
                    <a href="#">Politique de Confidentialité</a>
                    <a href="#">Conditions d'Utilisation</a>
                    <a href="#">Mentions Légales</a>
                </div>
            </div>
        </div>
    </footer>



    {% load static %}
    <script src="{% static 'js/main.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock %}
</body>

</html>